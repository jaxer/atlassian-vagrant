define("feature/repository/related-repository-selector",["jquery","model/page-state","util/navbuilder","feature/repository/base-repository-selector"],function(E,D,B,C){function A(G,F){return this.init.apply(this,arguments)}E.extend(A.prototype,C.prototype);A.constructDataPageFromPreloadArray=C.constructDataPageFromPreloadArray;A.prototype.defaults=E.extend(true,{},C.prototype.defaults,{repository:function(){return D.getRepository()},preloadData:function(){var H=this._getOptionVal("repository")||D.getRepository();if(!H){return null}var G=[H.toJSON()];var F=H.getOrigin();if(F){G.push(F)}return A.constructDataPageFromPreloadArray(G)},url:function(){var F=this._getOptionVal("repository")||D.getRepository();return B.rest().project(F.getProject()).repo(F).related().withParams({avatarSize:stash.widget.avatarSizeInPx({size:"xsmall"})}).build()}});return A});