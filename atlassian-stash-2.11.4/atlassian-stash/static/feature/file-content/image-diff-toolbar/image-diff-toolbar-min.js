define("feature/file-content/image-diff-toolbar",["jquery","util/events"],function(C,B){function A(D){this._$toolbar=C(stash.feature.fileContent.imageDiffToolbar.main());this._$toggle=this._$toolbar.find(".image-diff-toggle");D.append(this._$toolbar)}C.extend(A.prototype,B.createEventMixin("image-diff-toolbar",{localOnly:true}));A.prototype.init=function(K){var E=this;var H=this._$toggle.find(".image-diff-two-up");var G=this._$toggle.find(".image-diff-blend");var D=this._$toggle.find(".image-diff-split");D.attr("aria-disabled",!K);if(K){D.attr("title",stash_i18n("stash.web.sourceview.button.diff.image.split.tooltip","Compare the image changes by moving your mouse cursor left or right over the image"))}G.attr("aria-disabled",!K);if(K){G.attr("title",stash_i18n("stash.web.sourceview.button.diff.image.blend.tooltip","Compare the image changes by fading in the differences"))}function F(L){E.trigger("modeChanged",L,E._mode);E._mode=L}var I=this._$toggle.find(".aui-button");var J=function(L){return function(N){var M=C(this);if(M.attr("aria-disabled")!=="true"&&M.attr("aria-pressed")!=="true"){I.attr("aria-pressed","false");M.attr("aria-pressed","true");F(L)}N.preventDefault()}};H.click(J("two-up"));G.click(J("blend"));D.click(J("split"));H.add(G).add(D).tooltip({gravity:"s"});F("two-up")};A.prototype.getMode=function(){return this._mode};A.prototype.destroy=function(){if(this._$toolbar){this._$toolbar.remove();this._$toolbar=null}this._$toggle=null};return A});