define("feature/file-content/determine-language",["underscore","exports"],function(J,C){var B={bash:"text/x-sh",c:"text/x-csrc",coffeescript:"text/x-coffeescript",cpp:"text/x-c++src",cs:"text/x-csharp",css:"text/css",d:"text/x-d",diff:"text/x-diff",erlang:"text/x-erlang",go:"text/x-go",haskell:"text/x-haskell",html:"text/html",ini:"text/x-toml",java:"text/x-java",javascript:"text/javascript",json:"application/json",less:"text/x-less",lisp:"text/x-common-lisp",lua:"text/x-lua",markdown:"text/x-markdown",objectivec:"text/x-csrc",perl:"text/x-perl",php:"application/x-httpd-php",python:"text/x-python",ruby:"text/x-ruby",sass:"text/x-sass",scala:"text/x-scala",sql:"text/x-sql",tex:"text/x-stex",vbscript:"text/vbscript",xml:"application/xml",yaml:"text/x-yaml"};var F=WRM.data("com.atlassian.stash.stash-web-plugin:source-view.syntax-highlighters")||{};var H={txt:"text",log:"text"};var A={};J.forEach(F,function(K,L){J.forEach(K.e,function(M){H[M]=L});J.forEach(K.x,function(M){A[M]=L})});function I(K){return J.has(H,K)?H[K]:"text"}function E(K){return J.has(A,K)?A[K]:"text"}function G(K){var M=/^#!(?:\/(?:usr\/)?(?:local\/)?bin\/([^\s]+))(?:\s+([^\s]+))?/;var L=M.exec(K);if(L){var N=L[1];if(N==="env"){N=L[2]}return E(N)}return null}function D(M){var K=M.path;var L=K.lastIndexOf(".");var O=L===-1?K:K.substring(L+1);var N=I(O)||(M.firstLine.length>1?G(M.firstLine):null);if(M.legacy){return N}return B[N]||"text/plain"}C.fromFileInfo=D});