define("feature/pull-request/pull-request-commits",["jquery","util/events","util/navbuilder","feature/commits/commits-table","exports"],function(D,I,H,C,B){var E,G;function F(){var J=H.currentRepo().pullRequest(E).commits();return J}function A(J){if(J){G.initShortcuts()}else{G.resetShortcuts()}var K=J?"on":"off";I[K]("stash.keyboard.shortcuts.requestMoveToNextHandler",G.bindMoveToNextHandler);I[K]("stash.keyboard.shortcuts.requestMoveToPreviousHandler",G.bindMoveToPreviousHandler);I[K]("stash.keyboard.shortcuts.requestOpenItemHandler",G.bindOpenItemHandler);I[K]("stash.keyboard.shortcuts.requestToggleMergesHandler",G.bindToggleMergesHandler)}B.init=function(L){E=L.pullRequest.getId();var K=D(stash.feature.pullRequest.commits({repository:L.repository.toJSON(),commitsTableWebSections:L.commitsTableWebSections}));var J=D("<div />").append(K);G=new C(F,{target:K,webSections:L.commitsTableWebSections,allCommitsFetchedMessage:stash_i18n("stash.web.pull-request.allcommitsfetched","No more commits in pull request")});D(L.el).append(G.$spinner);var M=G.init({suspended:true}).done(function(){D(L.el).prepend(J.children());G.resume()});A(true);return M};B.reset=function(){A(false);G.destroy();G=null}});