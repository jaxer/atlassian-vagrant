define("feature/pull-request/can-merge",["util/events","util/ajax","model/page-state","util/navbuilder"],function(C,D,B,E){function A(F){F=F||B.getPullRequest();return D.rest({url:E.rest().currentRepo().pullRequest(F.getId()).merge().build(),type:"GET"}).done(function(G){C.trigger(G.canMerge?"stash.pull-request.can.merge":"stash.pull-request.cant.merge",null,F,G.conflicted,G.vetoes)})}return A});