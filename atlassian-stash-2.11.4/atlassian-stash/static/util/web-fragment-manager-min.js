var WebFragments=(function(){var M=Object.prototype.hasOwnProperty;var N={item:{},section:{},panel:{}};var O=function(S){var R=[];for(var Q in S){if(M.call(S,Q)){R.push(Q)}}return R};function J(V){var T=Array.prototype.slice.call(arguments,1);for(var R=0,X=T.length;R<X;R++){var U=T[R];if(U){for(var Y=O(U),Q=0,S=Y.length;Q<S;Q++){var W=Y[Q];V[W]=U[W]}}}return V}var K;if(!window._PageDataPlugin||!_PageDataPlugin.ready){K=function(Q){return Q}}else{K=function(Q){_PageDataPlugin.ready(Q.completeModuleKey,Q.location,function(R){if(M.call(R,"serverCondition")){Q.serverCondition=R.serverCondition}if(M.call(R,"serverContext")){Q.serverContext=R.serverContext}})}}var E={item:function(Q,R){return{url:"#example-web-item-url",pluginKey:"org.example.plugins",moduleKey:"example-web-item",completeModuleKey:"org.example.plugins:example-web-item",linkText:"Client Web Item: "+Q,hasTooltip:true,tooltip:"Client Context Items: "+O(R).join(", "),hasIcon:false,iconUrl:null,iconWidth:0,iconHeight:0,styleClass:"plugin-point",linkId:null,description:null,params:{},type:"ITEM",weight:1000}},section:function(Q,R){return{name:"example-web-section",key:"example-web-section",location:Q,labelText:"Client Web Section: "+Q,type:"SECTION",params:{},weight:1000}},panel:function(Q,R){return{view:'<div class="plugin-point web-panel"><strong>Client Web Panel</strong>: '+Q+"<br /><strong>Client Context Items</strong>: "+O(R).join(", ")+"</div>",weight:1000}}};function F(Q){return new RegExp("[\\?&]web\\."+Q+"s(=|&|$)").test(window.location.search)}function H(R,Q){return typeof R==="function"?R(J({},Q)):R}function B(Q,R,V){var Y,W,T,X;var U={type:V.toUpperCase()};if(M.call(Q,"serverCondition")&&!Q.serverCondition){return null}R=J({},R,Q.serverContext,Q.params);if(M.call(Q,"condition")&&!H(Q.condition,R)){return null}if(Q["context-provider"]&&typeof Q["context-provider"]==="function"){R=H(Q["context-provider"],R)}for(Y=O(Q),T=0,X=Y.length;T<X;T++){W=Y[T];if(!/con(dition|text-provider)|params/.test(W)){U[W]=H(Q[W],R)}}if(Q.params){var S=U.params={};for(Y=O(Q.params),T=0,X=Y.length;T<X;T++){W=Y[T];S[W]=H(Q.params[W],R)}}return U}function I(R){var Q=N[R];return function(T,W){var Y=Q[T];var S=[];if(Y&&Y.length){for(var V=0,X=Y.length;V<X;V++){var U=B(Y[V],W,R);if(U){S.push(U)}}}if(F(R)){S.push(E[R](T,W))}return S}}var L=I("panel");function A(Q,T){var R=L(Q,T);for(var S=0,U=R.length;S<U;S++){R[S]=R[S].view}return R}var D=I("item");function G(Q,T){var R=D(Q,T);for(var S=0,U=R.length;S<U;S++){R[S].hasIcon=!!R[S].iconUrl;R[S].hasTooltip=!!R[S].tooltip}return R}function P(R){var Q=N[R];return function(S){if(!S){throw new Error("No descriptor provided")}if(typeof S.location!=="string"){throw new Error("No location provided, or location was not a string.")}if(typeof S.completeModuleKey!=="string"){throw new Error("No completeModuleKey provided, or completeModuleKey was not a string.")}K(S);if(!Q[S.location]){Q[S.location]=[]}Q[S.location].push(S);Q[S.location].sort(C)}}function C(R,Q){return(R.weight>=0?R.weight:1000)-(Q.weight>=0?Q.weight:1000)}return{getWebItems:I("item"),getWebSections:I("section"),getWebPanels:A,getWebFragmentDescriptors:function(Q,S){var R=N[S];var T=R&&R[Q];return T&&T.slice()},addWebItemDescriptor:P("item"),addWebSectionDescriptor:P("section"),addWebPanelDescriptor:P("panel"),getWebFragments:function(U,T,R){if(typeof T!=="string"){R=T;T=U}var Q=this.getWebItems(U,R);var V=this.getWebSections(T,R);var S=Q.concat(V);S.sort(C);return S},_getValue:H,_formatI18n:function(Q,R,T){var S=(Q===R?T:Q)||R||T||"";return function(W){var U=[];var Y=O(W);Y.sort();for(var V=0,X=Y.length;V<X;V++){U.push(W[Y[V]])}return AJS.format(S,U)}}}}());