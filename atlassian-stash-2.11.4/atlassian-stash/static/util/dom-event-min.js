define("util/dom-event",["jquery","underscore","util/events","util/navigator","exports"],function(G,C,D,A,B){var E=window.navigator.platform.indexOf("Mac")!==-1;B.openInSameTab=function(H){return(!H.which||H.which===1)&&!(H.metaKey||H.ctrlKey||H.shiftKey||(H.altKey&&!G.browser.msie))};B.isRightClick=function(H){return H.which===3};B.isCtrlish=function(H){return E?H.metaKey:H.ctrlKey};B.modifiersPreventScroll=function(I){var H=false;if(G.browser.mozilla||(/Linux/).test(A._getPlatform())){H=F(I)}else{if(G.browser.webkit&&(/Chrome/).test(A._getUserAgent())){H=I.shiftKey||((/Win/).test(A._getPlatform())?I.altKey:I.metaKey)}else{if(G.browser.safari){H=(/Win/).test(A._getPlatform())?I.altKey:F(I)}else{if(G.browser.msie){H=I.altKey}}}}return !!H};function F(H){return H.altKey||H.shiftKey||H.ctrlKey||H.metaKey}B.listenForFontSizeChange=C.once(function(){var K=G('<div style="position: fixed; visibility: hidden; speak: none; height: auto; top: -999px; left: -999px;">Ignore this text</div>').appendTo(document.body),I=K.height(),J,H=500;setTimeout(J=function(){var L=K.height();if(L!==I){I=L;D.trigger("stash.util.events.fontSizeChanged")}setTimeout(J,H)},H)});B.preventDefault=function(H){return function(I){I&&C.isFunction(I.preventDefault)&&I.preventDefault();if(C.isFunction(H)){return H.apply(this,arguments)}}}});