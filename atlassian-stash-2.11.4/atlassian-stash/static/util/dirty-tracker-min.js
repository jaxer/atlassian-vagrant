define("util/dirty-tracker",["jquery","underscore","exports"],function(F,D,C){var B="change input keypress keydown cut paste",G=document.body,A="input, textarea";function E(H){var I=[F.ui.keyCode.BACKSPACE,F.ui.keyCode.DELETE];if(!F(H.target).is("input[type=text], textarea")&&H.type!=="change"){return }if(H.type==="keydown"&&D.indexOf(I,H.keyCode)===-1){return }F(this).attr("data-dirty",true).off(B,E)}C.track=function(I){I=I||{};if(I.elements){F(I.elements).on(B,E)}if(I.selector||I.container||!I.elements){var J=F(I.container||G),H=I.selector||A;H=D.map(H.split(","),function(K){return K.replace(/\s*$/,":not([data-dirty])")}).join(",");J.on(B,H,E)}};C.untrack=function(I){I=I||{};if(I.elements){F(I.elements).off(B,E)}if(I.selector||I.container||!I.elements){var J=F(I.container||G),H=I.selector||A;H=D.map(H.split(","),function(K){return K.replace(/\s+$/,"")+":not([data-dirty])"}).join(",");J.off(B,H,E)}}});