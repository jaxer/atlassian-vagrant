if(!Date.now){Date.now=function(){return new Date().getTime()}}if(!Function.prototype.bind){Function.prototype.bind=function(A){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var E=Array.prototype.slice.call(arguments,1),D=this,B=function(){},C=function(){return D.apply(this instanceof B&&A?this:A,E.concat(Array.prototype.slice.call(arguments)))};B.prototype=this.prototype;C.prototype=new B();return C}};