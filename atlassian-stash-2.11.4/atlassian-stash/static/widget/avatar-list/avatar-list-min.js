define("widget/avatar-list",["jquery","widget/overflowing-list"],function(B,A){function C(H,E,F){C.init();F=B.extend({},C.defaults,F);this._$list=B(H);F.getItemHtml=F.getAvatarHtml;this._overflowingList=new A(this._$list,E,F);var D=this;var G=function(I){var J=D._$list.find(".user-avatar[data-username='"+I.getUser().getName()+"']");J.toggleClass("badge-hidden",!I.getApproved())};E.on("change:approved",G)}C.defaults={itemSelector:".participant-item",overflowMenuClass:"aui-style-default aui-dropdown2-tailed avatar-dropdown",getAvatarHtml:function(E,D){return stash.widget.avatarList.participantAvatar({participant:E.toJSON(),extraClasses:"participant-item",withName:D})}};C.prototype.contains=function(D){return _.any(this._overflowingList._items,function(E){return E.getUser().getName()===D})};C.prototype.addAvatar=function(D){this._overflowingList.addItem(D)};C.init=function(){B(".avatar-tooltip > .aui-avatar-inner > img").tooltip({hoverable:false,offset:5,gravity:function(){return B.fn.tipsy.autoNS.call(this)+B.fn.tipsy.autoWE.call(this)},delayIn:0,live:true});C.init=B.noop};return C});