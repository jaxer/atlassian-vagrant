define("widget/aui/form",["jquery","exports"],function(E,B){function C(F){F.preventDefault()}function A(F,G){F.data("preventSubmission",G);F.find(":submit").toggleClass("disabled",G).prop("disabled",G);F.find('a, button, input[type="button"]')[G?"on":"off"]("click",C).toggleClass("disabled",G)}B.preventSubmission=function(F){A(F,true)};B.allowSubmission=function(F){A(F,false)};B.isSubmissionPrevented=function(F){return F.data("preventSubmission")};function D(H){var I=E(window);var G=Object.prototype.hasOwnProperty.call(window,"onpagehide")?"pagehide":"unload";var F=function(){I.off(G,F);return H.apply(this,arguments)};I.on(G,F)}B.onReady=function(){E(document).on("submit",".prevent-double-submit",function(G){var F=E(G.target);if(B.isSubmissionPrevented(F)){G.preventDefault()}else{setTimeout(function(){if(!G.isDefaultPrevented()){A(F,true);D(function(){A(F,false)})}},0)}})}});