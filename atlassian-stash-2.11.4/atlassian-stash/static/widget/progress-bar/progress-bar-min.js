define("widget/progress-bar",["jquery"],function(B){function A(C){if(!(this instanceof A)){return new A(C)}this._$container=B(C);this._$progress=this._$container.children(".progress-bar");this._$bar=this._$progress.children(".bar");this._$message=this._$container.children(".progress-message");if(this._$message.length===0){this._$message=undefined}return this}A.prototype.update=function(C){this.percentage(C.percentage);this.message(C.message);return this};A.prototype.message=function(C){if(C!==undefined){if(!this._$message){this._$message=B('<p class="progress-message"></p>');this._$container.append(this._$message)}this._$message.text(C);return this}return this._$message&&this._$message.text()||""};A.prototype.percentage=function(D){if(D!==undefined){this._$bar.width(Math.max(Math.min(D,100),0)+"%");return this}var C=parseInt(this._$bar[0].style.width,10);return isNaN(C)?0:C};A.prototype.active=function(C){if(C!==undefined){this._$progress.toggleClass("active",C);return this}return this._$progress.hasClass("active")};A.prototype.reversed=function(C){if(C!==undefined){this._$progress.toggleClass("reversed",C);return this}return this._$progress.hasClass("reversed")};return A});