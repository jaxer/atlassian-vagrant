define("widget/delete-dialog",["aui","jquery","widget/confirm-dialog","exports"],function(C,D,B,A){A.bind=function(L,K,J,E,H,F){var N=new B({id:"delete-dialog",titleClass:"warning-header",titleText:K,panelContent:D("<p>").html(stash_i18n("stash.web.confirm.delete","Are you sure that you want to delete <b class='display-name'>{0}</b>?")),submitText:stash_i18n("stash.web.button.delete","Delete")},{type:"DELETE",statusCode:{"*":false}});var M=function(O){var P=D("#content .aui-page-panel .notifications");P.empty().html(O)},I=function(O){M(widget.aui.message.success({content:O}))},G=function(O){M(widget.aui.message.error({content:O}))};N.addConfirmListener(function(P,O){P.done(function(T){var Q=T?(T.displayName?T.displayName:(T.name?T.name:"")):"";var S=J.replace("{0}",C.escapeHtml(Q));var R=!H||H(Q);if(R&&!R.promise){I(S)}else{if(R&&R.promise){R.done(function(){I(S)})}}}).fail(function(T,U,S,R){var Q=(R&&R.errors&&R.errors[0]&&R.errors[0].message)?R.errors[0].message:E;G(C.escapeHtml(Q))})});N.attachTo(L,function(Q,P){var O=F?F():D(Q).data("for");P.getPanel(0).body.find(".display-name").text(O)})}});