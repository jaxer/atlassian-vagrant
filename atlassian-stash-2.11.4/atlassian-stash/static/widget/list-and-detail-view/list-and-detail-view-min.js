define("widget/list-and-detail-view",["jquery","underscore"],function(C,A){var D={j:74,k:75};function B(E,G,F){this.options=C.extend({},B.prototype.defaults,F);this.$listView=E.find(".list-view");this.$detailView=E.find(".detail-view");this.selectHandler=G;A.bindAll(this,"_itemClickHandler","_shortcutHandler");this.init()}B.prototype.defaults={selectedClass:"selectedItem"};B.prototype.init=function(){var E=this;this.bindShortcuts();this.$listView.on("click","li",this._itemClickHandler)};B.prototype._itemClickHandler=function(G){var F=this.options.selectedClass;this.$listView.find("li."+F).removeClass(F);var E=C(G.currentTarget).addClass(F);this.selectHandler(E,this.$listView,this.$detailView,G)};B.prototype.destroy=function(){this.unbindShortcuts()};B.prototype._shortcutHandler=function(H){var F;if(H.which===D.j){F="next"}else{if(H.which===D.k){F="prev"}else{return }}var G=this.$listView.find("li."+this.options.selectedClass);var E=G[F]("li");E.click().find("a").focus().blur()};B.prototype.bindShortcuts=function(){C(document).on("keydown",this._shortcutHandler)};B.prototype.unbindShortcuts=function(){C(document).off("keydown",this._shortcutHandler)};return B});