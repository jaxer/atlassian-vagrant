(function(C,B){C.KeyGenerator=function(){var I=["THE","A","AN","AS","AND","OF","OR"],F={},H=function(K){return K.join("").length},J=function(K){return B.grep(K,function(M,L){return B.inArray(M,I)===-1})},G=function(L){var K="";B.each(L,function(M,N){K+=N.charAt(0)});return K},E=function(M){var L=false;var K;for(K=0;K<M.length;K++){if(D(M[K])){L=true}else{if(L){return M.substring(0,K+1)}}}return M},D=function(K){return K&&K.length===1&&K.search("[AEIOUY]")!==-1};F[199]="C";F[231]="c";F[252]="u";F[251]="u";F[250]="u";F[249]="u";F[233]="e";F[234]="e";F[235]="e";F[232]="e";F[226]="a";F[228]="a";F[224]="a";F[229]="a";F[225]="a";F[239]="i";F[238]="i";F[236]="i";F[237]="i";F[196]="A";F[197]="A";F[201]="E";F[230]="ae";F[198]="Ae";F[244]="o";F[246]="o";F[242]="o";F[243]="o";F[220]="U";F[255]="Y";F[214]="O";F[241]="n";F[209]="N";return{generateKey:function(N,X){X=B.extend({},X);var M=(typeof X.desiredKeyLength=="number")?X.desiredKeyLength:4,T=(typeof X.maxKeyLength=="number")?X.maxKeyLength:Infinity;N=B.trim(N);if(!N){return""}var R=[];for(var Q=0,W=N.length;Q<W;Q++){var K=F[N.charCodeAt(Q)];R.push(K?K:N[Q])}N=R.join("");var S=[];B.each(N.split(/\s+/),function(Y,Z){if(Z){Z=Z.replace(/[^a-zA-Z]/g,"");Z=Z.toUpperCase();Z.length&&S.push(Z)}});if(M&&H(S)>M){S=J(S)}var U;if(S.length==0){U=""}else{if(S.length==1){var L=S[0],O=E(L);if(T<L.length||Math.abs(L.length-M)>=Math.abs(O.length-M)){U=O}else{U=L}}else{var V=H(S),P=G(S);if(T<V||Math.abs(V-M)>=Math.abs(P.length-M)){U=P}else{U=S.join("")}}}if(T&&U.length>T){U=U.substr(0,T)}return U}}};var A=C.KeyGenerator();B.fn.generateFrom=function(G,E){var D={desiredKeyLength:4,maxKeyLength:10,maxNameLength:30,timeoutMS:100,validationCallback:function(){},errorCallback:function(){}},F=B(this).first(),G=G.first(),E=B.extend({},D,E);(function(){var J=function(){return F.data("autosuggest")!==false},O=function(P){if(F.val()&&F.data("lastGeneratedValue")!==F.val()){F.data("autosuggest",false)}},N=function(P){F.data("lastGeneratedValue",P);F.val(P)},H=function(){O(F.val());K()},I=function(P){M(P,H)},M=function(S,Q){var P=B(S.target),R;R=function(){L(S);Q();if(P.is(":visible")){P.data("checkHook",setTimeout(R,E.timeoutMS))}};if(!P.data("checkHook")){P.data("checkHook",setTimeout(R,0))}},L=function(Q){var P=B(Q.target);clearTimeout(P.data("checkHook"));P.removeData("checkHook")},K=function(){if(J()){N(A.generateKey(G.val(),{desiredKeyLength:E.desiredKeyLength,maxKeyLength:E.maxKeyLength}))}};G.attr("maxlength",E.maxNameLength);F.attr("maxlength",E.maxKeyLength);F.css("text-transform","uppercase");if(document.activeElement&&document.activeElement===G[0]){I({target:G[0]})}G.focus(I);G.blur(L)})();return this}})(window,jQuery);