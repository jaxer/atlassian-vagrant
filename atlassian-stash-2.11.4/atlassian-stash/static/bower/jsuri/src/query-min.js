var Query=function(B){var E=function(N){var K=[],M,P,O,L;if(typeof (N)==="undefined"||N===null||N===""){return K}if(N.indexOf("?")===0){N=N.substring(1)}P=N.toString().split(/[&;]/);for(M=0;M<P.length;M++){O=P[M];L=O.split("=");K.push([L[0],L[1]])}return K},D=E(B),C=function(){var L="",K,M;for(K=0;K<D.length;K++){M=D[K];if(L.length>0){L+="&"}L+=M.join("=")}return L.length>0?"?"+L:L},A=function(K){K=decodeURIComponent(K);K=K.replace("+"," ");return K},I=function(L){var M,K;for(K=0;K<D.length;K++){M=D[K];if(A(L)===A(M[0])){return M[1]}}},H=function(M){var K=[],L,N;for(L=0;L<D.length;L++){N=D[L];if(A(M)===A(N[0])){K.push(N[1])}}return K},J=function(N,Q){var K=[],M,P,L,O;for(M=0;M<D.length;M++){P=D[M];L=A(P[0])===A(N);O=A(P[1])===A(Q);if((arguments.length===1&&!L)||(arguments.length===2&&!L&&!O)){K.push(P)}}D=K;return this},F=function(L,M,K){if(arguments.length===3&&K!==-1){K=Math.min(K,D.length);D.splice(K,0,[L,M])}else{if(arguments.length>0){D.push([L,M])}}return this},G=function(O,M,K){var L=-1,N,P;if(arguments.length===3){for(N=0;N<D.length;N++){P=D[N];if(A(P[0])===A(O)&&decodeURIComponent(P[1])===A(K)){L=N;break}}J(O,K).addParam(O,M,L)}else{for(N=0;N<D.length;N++){P=D[N];if(A(P[0])===A(O)){L=N;break}}J(O);F(O,M,L)}return this};return{getParamValue:I,getParamValues:H,deleteParam:J,addParam:F,replaceParam:G,toString:C}};