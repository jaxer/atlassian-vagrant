(function(){CodeMirror.defineOption("styleSelectedText",false,function(J,M,K){var L=K&&K!=CodeMirror.Init;if(M&&!L){J.state.markedSelection=[];J.state.markedSelectionStyle=typeof M=="string"?M:"CodeMirror-selectedtext";E(J);J.on("cursorActivity",F);J.on("change",G)}else{if(!M&&L){J.off("cursorActivity",F);J.off("change",G);C(J);J.state.markedSelection=J.state.markedSelectionStyle=null}}});function F(J){J.operation(function(){B(J)})}function G(J){if(J.state.markedSelection.length){J.operation(function(){C(J)})}}var A=8;var I=CodeMirror.Pos;function H(K,J){return K.line-J.line||K.ch-J.ch}function D(S,Q,R,N){if(H(Q,R)==0){return }var O=S.state.markedSelection;var T=S.state.markedSelectionStyle;for(var U=Q.line;;){var J=U==Q.line?Q:I(U,0);var K=U+A,P=K>=R.line;var M=P?R:I(K,0);var L=S.markText(J,M,{className:T});if(N==null){O.push(L)}else{O.splice(N++,0,L)}if(P){break}U=K}}function C(J){var L=J.state.markedSelection;for(var K=0;K<L.length;++K){L[K].clear()}L.length=0}function E(J){C(J);var L=J.getCursor("start"),K=J.getCursor("end");D(J,L,K)}function B(J){var O=J.getCursor("start"),N=J.getCursor("end");if(H(O,N)==0){return C(J)}var M=J.state.markedSelection;if(!M.length){return D(J,O,N)}var L=M[0].find(),K=M[M.length-1].find();if(!L||!K||N.line-O.line<A||H(O,K.to)>=0||H(N,L.from)<=0){return E(J)}while(H(O,L.from)>0){M.shift().clear();L=M[0].find()}if(H(O,L.from)<0){if(L.to.line-O.line<A){M.shift().clear();D(J,O,L.to,0)}else{D(J,O,L.from,0)}}while(H(N,K.to)<0){M.pop().clear();K=M[M.length-1].find()}if(H(N,K.to)>0){if(N.line-K.from.line<A){M.pop().clear();D(J,K.from,N)}else{D(J,K.to,N)}}}})();