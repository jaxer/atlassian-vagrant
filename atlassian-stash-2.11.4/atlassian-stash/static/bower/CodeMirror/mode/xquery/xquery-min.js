CodeMirror.defineMode("xquery",function(){var G=function(){function k(i){return{type:i,style:"keyword"}}var c=k("keyword a"),a=k("keyword b"),X=k("keyword c"),b=k("operator"),j={type:"atom",style:"atom"},W={type:"punctuation",style:null},m={type:"axis_specifier",style:"qualifier"};var Z={"if":c,"switch":c,"while":c,"for":c,"else":a,then:a,"try":a,"finally":a,"catch":a,element:X,attribute:X,let:X,"implements":X,"import":X,module:X,namespace:X,"return":X,"super":X,"this":X,"throws":X,where:X,"private":X,",":W,"null":j,"fn:false()":j,"fn:true()":j};var e=["after","ancestor","ancestor-or-self","and","as","ascending","assert","attribute","before","by","case","cast","child","comment","declare","default","define","descendant","descendant-or-self","descending","document","document-node","element","else","eq","every","except","external","following","following-sibling","follows","for","function","if","import","in","instance","intersect","item","let","module","namespace","node","node","of","only","or","order","parent","precedes","preceding","preceding-sibling","processing-instruction","ref","return","returns","satisfies","schema","schema-element","self","some","sortby","stable","text","then","to","treat","typeswitch","union","variable","version","where","xquery","empty-sequence"];for(var g=0,d=e.length;g<d;g++){Z[e[g]]=k(e[g])}var h=["xs:string","xs:float","xs:decimal","xs:double","xs:integer","xs:boolean","xs:date","xs:dateTime","xs:time","xs:duration","xs:dayTimeDuration","xs:time","xs:yearMonthDuration","numeric","xs:hexBinary","xs:base64Binary","xs:anyURI","xs:QName","xs:byte","xs:boolean","xs:anyURI","xf:yearMonthDuration"];for(var g=0,d=h.length;g<d;g++){Z[h[g]]=j}var f=["eq","ne","lt","le","gt","ge",":=","=",">",">=","<","<=",".","|","?","and","or","div","idiv","mod","*","/","+","-"];for(var g=0,d=f.length;g<d;g++){Z[f[g]]=b}var Y=["self::","attribute::","child::","descendant::","descendant-or-self::","parent::","ancestor::","ancestor-or-self::","following::","preceding::","following-sibling::","preceding-sibling::"];for(var g=0,d=Y.length;g<d;g++){Z[Y[g]]=m}return Z}();var D,N;function U(Y,X,W){D=Y;N=W;return X}function L(Y,X,W){X.tokenize=W;return W(Y,X)}function V(e,Y){var W=e.next(),g=false,h=O(e);if(W=="<"){if(e.match("!--",true)){return L(e,Y,A)}if(e.match("![CDATA",false)){Y.tokenize=F;return U("tag","tag")}if(e.match("?",false)){return L(e,Y,C)}var Z=e.eat("/");e.eatSpace();var a="",d;while((d=e.eat(/[^\s\u00a0=<>\"\'\/?]/))){a+=d}return L(e,Y,R(a,Z))}else{if(W=="{"){Q(Y,{type:"codeblock"});return U("",null)}else{if(W=="}"){H(Y);return U("",null)}else{if(B(Y)){if(W==">"){return U("tag","tag")}else{if(W=="/"&&e.eat(">")){H(Y);return U("tag","tag")}else{return U("word","variable")}}}else{if(/\d/.test(W)){e.match(/^\d*(?:\.\d*)?(?:E[+\-]?\d+)?/);return U("number","atom")}else{if(W==="("&&e.eat(":")){Q(Y,{type:"comment"});return L(e,Y,K)}else{if(!h&&(W==='"'||W==="'")){return L(e,Y,E(W))}else{if(W==="$"){return L(e,Y,M)}else{if(W===":"&&e.eat("=")){return U("operator","keyword")}else{if(W==="("){Q(Y,{type:"paren"});return U("",null)}else{if(W===")"){H(Y);return U("",null)}else{if(W==="["){Q(Y,{type:"bracket"});return U("",null)}else{if(W==="]"){H(Y);return U("",null)}else{var f=G.propertyIsEnumerable(W)&&G[W];if(h&&W==='"'){while(e.next()!=='"'){}}if(h&&W==="'"){while(e.next()!=="'"){}}if(!f){e.eatWhile(/[\w\$_-]/)}var b=e.eat(":");if(!e.eat(":")&&b){e.eatWhile(/[\w\$_-]/)}if(e.match(/^[ \t]*\(/,false)){g=true}var X=e.current();f=G.propertyIsEnumerable(X)&&G[X];if(g&&!f){f={type:"function_call",style:"variable def"}}if(T(Y)){H(Y);return U("word","variable",X)}if(X=="element"||X=="attribute"||f.type=="axis_specifier"){Q(Y,{type:"xmlconstructor"})}return f?U(f.type,f.style,X):U("word","variable",X)}}}}}}}}}}}}}}function K(b,Z){var X=false,W=false,a=0,Y;while(Y=b.next()){if(Y==")"&&X){if(a>0){a--}else{H(Z);break}}else{if(Y==":"&&W){a++}}X=(Y==":");W=(Y=="(")}return U("comment","comment")}function E(W,X){return function(a,Z){var Y;if(J(Z)&&a.current()==W){H(Z);if(X){Z.tokenize=X}return U("string","string")}Q(Z,{type:"string",name:W,tokenize:E(W,X)});if(a.match("{",false)&&I(Z)){Z.tokenize=V;return U("string","string")}while(Y=a.next()){if(Y==W){H(Z);if(X){Z.tokenize=X}break}else{if(a.match("{",false)&&I(Z)){Z.tokenize=V;return U("string","string")}}}return U("string","string")}}function M(Y,W){var X=/[\w\$_-]/;if(Y.eat('"')){while(Y.next()!=='"'){}Y.eat(":")}else{Y.eatWhile(X);if(!Y.match(":=",false)){Y.eat(":")}}Y.eatWhile(X);W.tokenize=V;return U("variable","variable")}function R(W,X){return function(Z,Y){Z.eatSpace();if(X&&Z.eat(">")){H(Y);Y.tokenize=V;return U("tag","tag")}if(!Z.eat("/")){Q(Y,{type:"tag",name:W,tokenize:V})}if(!Z.eat(">")){Y.tokenize=S;return U("tag","tag")}else{Y.tokenize=V}return U("tag","tag")}}function S(Y,X){var W=Y.next();if(W=="/"&&Y.eat(">")){if(I(X)){H(X)}if(B(X)){H(X)}return U("tag","tag")}if(W==">"){if(I(X)){H(X)}return U("tag","tag")}if(W=="="){return U("",null)}if(W=='"'||W=="'"){return L(Y,X,E(W,S))}if(!I(X)){Q(X,{type:"attribute",tokenize:S})}Y.eat(/[a-zA-Z_:]/);Y.eatWhile(/[-a-zA-Z0-9_:.]/);Y.eatSpace();if(Y.match(">",false)||Y.match("/",false)){H(X);X.tokenize=V}return U("attribute","attribute")}function A(Y,X){var W;while(W=Y.next()){if(W=="-"&&Y.match("->",true)){X.tokenize=V;return U("comment","comment")}}}function F(Y,X){var W;while(W=Y.next()){if(W=="]"&&Y.match("]",true)){X.tokenize=V;return U("comment","comment")}}}function C(Y,X){var W;while(W=Y.next()){if(W=="?"&&Y.match(">",true)){X.tokenize=V;return U("comment","comment meta")}}}function B(W){return P(W,"tag")}function I(W){return P(W,"attribute")}function T(W){return P(W,"xmlconstructor")}function J(W){return P(W,"string")}function O(W){if(W.current()==='"'){return W.match(/^[^\"]+\"\:/,false)}else{if(W.current()==="'"){return W.match(/^[^\"]+\'\:/,false)}else{return false}}}function P(X,W){return(X.stack.length&&X.stack[X.stack.length-1].type==W)}function Q(W,X){W.stack.push(X)}function H(W){W.stack.pop();var X=W.stack.length&&W.stack[W.stack.length-1].tokenize;W.tokenize=X||V}return{startState:function(){return{tokenize:V,cc:[],stack:[]}},token:function(Y,X){if(Y.eatSpace()){return null}var W=X.tokenize(Y,X);return W},blockCommentStart:"(:",blockCommentEnd:":)"}});CodeMirror.defineMIME("application/xquery","xquery");