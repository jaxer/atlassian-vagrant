CodeMirror.defineMode("pegjs",function(B){var C=CodeMirror.getMode(B,"javascript");function A(D){return D.match(/^[a-zA-Z_][a-zA-Z0-9_]*/)}return{startState:function(){return{inString:false,stringType:null,inComment:false,inChracterClass:false,braced:0,lhs:true,localState:null}},token:function(H,F){if(H){if(!F.inString&&!F.inComment&&((H.peek()=='"')||(H.peek()=="'"))){F.stringType=H.peek();H.next();F.inString=true}}if(!F.inString&&!F.inComment&&H.match(/^\/\*/)){F.inComment=true}if(F.inString){while(F.inString&&!H.eol()){if(H.peek()===F.stringType){H.next();F.inString=false}else{if(H.peek()==="\\"){H.next();H.next()}else{H.match(/^.[^\\\"\']*/)}}}return F.lhs?"property string":"string"}else{if(F.inComment){while(F.inComment&&!H.eol()){if(H.match(/\*\//)){F.inComment=false}else{H.match(/^.[^\*]*/)}}return"comment"}else{if(F.inChracterClass){while(F.inChracterClass&&!H.eol()){if(!(H.match(/^[^\]\\]+/)||H.match(/^\\./))){F.inChracterClass=false}}}else{if(H.peek()==="["){H.next();F.inChracterClass=true;return"bracket"}else{if(H.match(/^\/\//)){H.skipToEnd();return"comment"}else{if(F.braced||H.peek()==="{"){if(F.localState===null){F.localState=C.startState()}var E=C.token(H,F.localState);var G=H.current();if(!E){for(var D=0;D<G.length;D++){if(G[D]==="{"){F.braced++}else{if(G[D]==="}"){F.braced--}}}}return E}else{if(A(H)){if(H.peek()===":"){return"variable"}return"variable-2"}else{if(["[","]","(",")"].indexOf(H.peek())!=-1){H.next();return"bracket"}else{if(!H.eatSpace()){H.next()}}}}}}}}}return null}}},"javascript");