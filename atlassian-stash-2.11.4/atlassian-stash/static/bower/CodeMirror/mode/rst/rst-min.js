CodeMirror.defineMode("rst",function(D,N){var C=/^\*\*[^\*\s](?:[^\*]*[^\*\s])?\*\*/;var B=/^\*[^\*\s](?:[^\*]*[^\*\s])?\*/;var G=/^``[^`\s](?:[^`]*[^`\s])``/;var K=/^(?:[\d]+(?:[\.,]\d+)*)/;var A=/^(?:\s\+[\d]+(?:[\.,]\d+)*)/;var M=/^(?:\s\-[\d]+(?:[\.,]\d+)*)/;var E="[Hh][Tt][Tt][Pp][Ss]?://";var F="(?:[\\d\\w.-]+)\\.(?:\\w{2,6})";var I="(?:/[\\d\\w\\#\\%\\&\\-\\.\\,\\/\\:\\=\\?\\~]+)*";var L=new RegExp("^"+E+F+I);var H={token:function(O){if(O.match(C)&&O.match(/\W+|$/,false)){return"strong"}if(O.match(B)&&O.match(/\W+|$/,false)){return"em"}if(O.match(G)&&O.match(/\W+|$/,false)){return"string-2"}if(O.match(K)){return"number"}if(O.match(A)){return"positive"}if(O.match(M)){return"negative"}if(O.match(L)){return"link"}while(O.next()!=null){if(O.match(C,false)){break}if(O.match(B,false)){break}if(O.match(G,false)){break}if(O.match(K,false)){break}if(O.match(A,false)){break}if(O.match(M,false)){break}if(O.match(L,false)){break}}return null}};var J=CodeMirror.getMode(D,N.backdrop||"rst-base");return CodeMirror.overlayMode(J,H,true)},"python","stex");CodeMirror.defineMode("rst-base",function(m){function b(AB){var AA=Array.prototype.slice.call(arguments,1);return AB.replace(/{(\d+)}/g,function(AC,AD){return typeof AA[AD]!="undefined"?AA[AD]:AC})}function C(AA){this.message=AA}C.prototype.toString=function(){return"AssertException: "+this.message};function l(AB,AA){if(!AB){throw new C(AA)}return AB}var N=CodeMirror.getMode(m,"python");var B=CodeMirror.getMode(m,"stex");var O="\\s+";var P="(?:\\s*|\\W|$)",W=new RegExp(b("^{0}",P));var i="(?:[^\\W\\d_](?:[\\w!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",s=new RegExp(b("^{0}",i));var r="(?:[^\\W\\d_](?:[\\w\\s!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)";var S=b("(?:{0}|`{1}`)",i,r);var I="(?:[^\\s\\|](?:[^\\|]*[^\\s\\|])?)";var G="(?:[^\\`]+)",U=new RegExp(b("^{0}",G));var h=new RegExp("^([!'#$%&\"()*+,-./:;<=>?@\\[\\\\\\]^_`{|}~])\\1{3,}\\s*$");var q=new RegExp(b("^\\.\\.{0}",O));var R=new RegExp(b("^_{0}:{1}|^__:{1}",S,P));var e=new RegExp(b("^{0}::{1}",S,P));var V=new RegExp(b("^\\|{0}\\|{1}{2}::{3}",I,O,S,P));var Q=new RegExp(b("^\\[(?:\\d+|#{0}?|\\*)]{1}",S,P));var d=new RegExp(b("^\\[{0}\\]{1}",S,P));var x=new RegExp(b("^\\|{0}\\|",I));var g=new RegExp(b("^\\[(?:\\d+|#{0}?|\\*)]_",S));var n=new RegExp(b("^\\[{0}\\]_",S));var c=new RegExp(b("^{0}__?",S));var a=new RegExp(b("^`{0}`_",G));var K=new RegExp(b("^:{0}:`{1}`{2}",i,G,P));var v=new RegExp(b("^`{1}`:{0}:{2}",i,G,P));var t=new RegExp(b("^:{0}:{1}",i,P));var M=new RegExp(b("^{0}",S));var y=new RegExp(b("^::{0}",P));var F=new RegExp(b("^\\|{0}\\|",I));var Z=new RegExp(b("^{0}",O));var u=new RegExp(b("^{0}",S));var f=new RegExp(b("^::{0}",P));var Y=new RegExp("^_");var X=new RegExp(b("^{0}|_",S));var L=new RegExp(b("^:{0}",P));var k=new RegExp("^::\\s*$");var w=new RegExp("^\\s+(?:>>>|In \\[\\d+\\]:)\\s");function E(AC,AB){var AA=null;if(AC.sol()&&AC.match(w,false)){A(AB,o,{mode:N,local:CodeMirror.startState(N)})}else{if(AC.sol()&&AC.match(q)){A(AB,p);AA="meta"}else{if(AC.sol()&&AC.match(h)){A(AB,E);AA="header"}else{if(H(AB)==K||AC.match(K,false)){switch(J(AB)){case 0:A(AB,E,z(K,1));l(AC.match(/^:/));AA="meta";break;case 1:A(AB,E,z(K,2));l(AC.match(s));AA="keyword";if(AC.current().match(/^(?:math|latex)/)){AB.tmp_stex=true}break;case 2:A(AB,E,z(K,3));l(AC.match(/^:`/));AA="meta";break;case 3:if(AB.tmp_stex){AB.tmp_stex=undefined;AB.tmp={mode:B,local:CodeMirror.startState(B)}}if(AB.tmp){if(AC.peek()=="`"){A(AB,E,z(K,4));AB.tmp=undefined;break}AA=AB.tmp.mode.token(AC,AB.tmp.local);break}A(AB,E,z(K,4));l(AC.match(U));AA="string";break;case 4:A(AB,E,z(K,5));l(AC.match(/^`/));AA="meta";break;case 5:A(AB,E,z(K,6));l(AC.match(W));break;default:A(AB,E);l(AC.current()=="")}}else{if(H(AB)==v||AC.match(v,false)){switch(J(AB)){case 0:A(AB,E,z(v,1));l(AC.match(/^`/));AA="meta";break;case 1:A(AB,E,z(v,2));l(AC.match(U));AA="string";break;case 2:A(AB,E,z(v,3));l(AC.match(/^`:/));AA="meta";break;case 3:A(AB,E,z(v,4));l(AC.match(s));AA="keyword";break;case 4:A(AB,E,z(v,5));l(AC.match(/^:/));AA="meta";break;case 5:A(AB,E,z(v,6));l(AC.match(W));break;default:A(AB,E);l(AC.current()=="")}}else{if(H(AB)==t||AC.match(t,false)){switch(J(AB)){case 0:A(AB,E,z(t,1));l(AC.match(/^:/));AA="meta";break;case 1:A(AB,E,z(t,2));l(AC.match(s));AA="keyword";break;case 2:A(AB,E,z(t,3));l(AC.match(/^:/));AA="meta";break;case 3:A(AB,E,z(t,4));l(AC.match(W));break;default:A(AB,E);l(AC.current()=="")}}else{if(H(AB)==x||AC.match(x,false)){switch(J(AB)){case 0:A(AB,E,z(x,1));l(AC.match(F));AA="variable-2";break;case 1:A(AB,E,z(x,2));if(AC.match(/^_?_?/)){AA="link"}break;default:A(AB,E);l(AC.current()=="")}}else{if(AC.match(g)){A(AB,E);AA="quote"}else{if(AC.match(n)){A(AB,E);AA="quote"}else{if(AC.match(c)){A(AB,E);if(!AC.peek()||AC.peek().match(/^\W$/)){AA="link"}}else{if(H(AB)==a||AC.match(a,false)){switch(J(AB)){case 0:if(!AC.peek()||AC.peek().match(/^\W$/)){A(AB,E,z(a,1))}else{AC.match(a)}break;case 1:A(AB,E,z(a,2));l(AC.match(/^`/));AA="link";break;case 2:A(AB,E,z(a,3));l(AC.match(U));break;case 3:A(AB,E,z(a,4));l(AC.match(/^`_/));AA="link";break;default:A(AB,E);l(AC.current()=="")}}else{if(AC.match(k)){A(AB,j)}else{if(AC.next()){A(AB,E)}}}}}}}}}}}}}return AA}function p(AC,AB){var AA=null;if(H(AB)==V||AC.match(V,false)){switch(J(AB)){case 0:A(AB,p,z(V,1));l(AC.match(F));AA="variable-2";break;case 1:A(AB,p,z(V,2));l(AC.match(Z));break;case 2:A(AB,p,z(V,3));l(AC.match(u));AA="keyword";break;case 3:A(AB,p,z(V,4));l(AC.match(f));AA="meta";break;default:A(AB,E);l(AC.current()=="")}}else{if(H(AB)==e||AC.match(e,false)){switch(J(AB)){case 0:A(AB,p,z(e,1));l(AC.match(M));AA="keyword";if(AC.current().match(/^(?:math|latex)/)){AB.tmp_stex=true}else{if(AC.current().match(/^python/)){AB.tmp_py=true}}break;case 1:A(AB,p,z(e,2));l(AC.match(y));AA="meta";if(AC.match(/^latex\s*$/)||AB.tmp_stex){AB.tmp_stex=undefined;A(AB,o,{mode:B,local:CodeMirror.startState(B)})}break;case 2:A(AB,p,z(e,3));if(AC.match(/^python\s*$/)||AB.tmp_py){AB.tmp_py=undefined;A(AB,o,{mode:N,local:CodeMirror.startState(N)})}break;default:A(AB,E);l(AC.current()=="")}}else{if(H(AB)==R||AC.match(R,false)){switch(J(AB)){case 0:A(AB,p,z(R,1));l(AC.match(Y));l(AC.match(X));AA="link";break;case 1:A(AB,p,z(R,2));l(AC.match(L));AA="meta";break;default:A(AB,E);l(AC.current()=="")}}else{if(AC.match(Q)){A(AB,E);AA="quote"}else{if(AC.match(d)){A(AB,E);AA="quote"}else{AC.eatSpace();if(AC.eol()){A(AB,E)}else{AC.skipToEnd();A(AB,T);AA="comment"}}}}}}return AA}function T(AB,AA){return D(AB,AA,"comment")}function j(AB,AA){return D(AB,AA,"meta")}function D(AC,AB,AA){if(AC.eol()||AC.eatSpace()){AC.skipToEnd();return AA}else{A(AB,E);return null}}function o(AB,AA){if(AA.ctx.mode&&AA.ctx.local){if(AB.sol()){if(!AB.eatSpace()){A(AA,E)}return null}return AA.ctx.mode.token(AB,AA.ctx.local)}A(AA,E);return null}function z(AA,AB,AD,AC){return{phase:AA,stage:AB,mode:AD,local:AC}}function A(AC,AB,AA){AC.tok=AB;AC.ctx=AA||{}}function J(AA){return AA.ctx.stage||0}function H(AA){return AA.ctx.phase}return{startState:function(){return{tok:E,ctx:z(undefined,0)}},copyState:function(AC){var AA=AC.ctx,AB=AC.tmp;if(AA.local){AA={mode:AA.mode,local:CodeMirror.copyState(AA.mode,AA.local)}}if(AB){AB={mode:AB.mode,local:CodeMirror.copyState(AB.mode,AB.local)}}return{tok:AC.tok,ctx:AA,tmp:AB}},innerMode:function(AA){return AA.tmp?{state:AA.tmp.local,mode:AA.tmp.mode}:AA.ctx.mode?{state:AA.ctx.local,mode:AA.ctx.mode}:null},token:function(AB,AA){return AA.tok(AB,AA)}}},"python","stex");CodeMirror.defineMIME("text/x-rst","rst");