CodeMirror.defineMode("dtd",function(D){var C=D.indentUnit,F;function B(I,J){F=J;return I}function H(L,J){var I=L.next();if(I=="<"&&L.eat("!")){if(L.eatWhile(/[\-]/)){J.tokenize=A;return A(L,J)}else{if(L.eatWhile(/[\w]/)){return B("keyword","doindent")}}}else{if(I=="<"&&L.eat("?")){J.tokenize=E("meta","?>");return B("meta",I)}else{if(I=="#"&&L.eatWhile(/[\w]/)){return B("atom","tag")}else{if(I=="|"){return B("keyword","seperator")}else{if(I.match(/[\(\)\[\]\-\.,\+\?>]/)){return B(null,I)}else{if(I.match(/[\[\]]/)){return B("rule",I)}else{if(I=='"'||I=="'"){J.tokenize=G(I);return J.tokenize(L,J)}else{if(L.eatWhile(/[a-zA-Z\?\+\d]/)){var K=L.current();if(K.substr(K.length-1,K.length).match(/\?|\+/)!==null){L.backUp(1)}return B("tag","tag")}else{if(I=="%"||I=="*"){return B("number","number")}else{L.eatWhile(/[\w\\\-_%.{,]/);return B(null,null)}}}}}}}}}}function A(L,K){var J=0,I;while((I=L.next())!=null){if(J>=2&&I==">"){K.tokenize=H;break}J=(I=="-")?J+1:0}return B("comment","comment")}function G(I){return function(M,K){var L=false,J;while((J=M.next())!=null){if(J==I&&!L){K.tokenize=H;break}L=!L&&J=="\\"}return B("string","tag")}}function E(J,I){return function(L,K){while(!L.eol()){if(L.match(I)){K.tokenize=H;break}L.next()}return J}}return{startState:function(I){return{tokenize:H,baseIndent:I||0,stack:[]}},token:function(L,K){if(L.eatSpace()){return null}var J=K.tokenize(L,K);var I=K.stack[K.stack.length-1];if(L.current()=="["||F==="doindent"||F=="["){K.stack.push("rule")}else{if(F==="endtag"){K.stack[K.stack.length-1]="endtag"}else{if(L.current()=="]"||F=="]"||(F==">"&&I=="rule")){K.stack.pop()}else{if(F=="["){K.stack.push("[")}}}}return J},indent:function(J,I){var K=J.stack.length;if(I.match(/\]\s+|\]/)){K=K-1}else{if(I.substr(I.length-1,I.length)===">"){if(I.substr(0,1)==="<"){K}else{if(F=="doindent"&&I.length>1){K}else{if(F=="doindent"){K--}else{if(F==">"&&I.length>1){K}else{if(F=="tag"&&I!==">"){K}else{if(F=="tag"&&J.stack[J.stack.length-1]=="rule"){K--}else{if(F=="tag"){K++}else{if(I===">"&&J.stack[J.stack.length-1]=="rule"&&F===">"){K--}else{if(I===">"&&J.stack[J.stack.length-1]=="rule"){K}else{if(I.substr(0,1)!=="<"&&I.substr(0,1)===">"){K=K-1}else{if(I===">"){K}else{K=K-1}}}}}}}}}}}if(F==null||F=="]"){K--}}}return J.baseIndent+K*C},electricChars:"]>"}});CodeMirror.defineMIME("application/xml-dtd","dtd");