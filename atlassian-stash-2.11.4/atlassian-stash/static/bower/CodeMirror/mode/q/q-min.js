CodeMirror.defineMode("q",function(B){var F=B.indentUnit,I,D=A(["abs","acos","aj","aj0","all","and","any","asc","asin","asof","atan","attr","avg","avgs","bin","by","ceiling","cols","cor","cos","count","cov","cross","csv","cut","delete","deltas","desc","dev","differ","distinct","div","do","each","ej","enlist","eval","except","exec","exit","exp","fby","fills","first","fkeys","flip","floor","from","get","getenv","group","gtime","hclose","hcount","hdel","hopen","hsym","iasc","idesc","if","ij","in","insert","inter","inv","key","keys","last","like","list","lj","load","log","lower","lsq","ltime","ltrim","mavg","max","maxs","mcount","md5","mdev","med","meta","min","mins","mmax","mmin","mmu","mod","msum","neg","next","not","null","or","over","parse","peach","pj","plist","prd","prds","prev","prior","rand","rank","ratios","raze","read0","read1","reciprocal","reverse","rload","rotate","rsave","rtrim","save","scan","select","set","setenv","show","signum","sin","sqrt","ss","ssr","string","sublist","sum","sums","sv","system","tables","tan","til","trim","txf","type","uj","ungroup","union","update","upper","upsert","value","var","view","views","vs","wavg","where","where","while","within","wj","wj1","wsum","xasc","xbar","xcol","xcols","xdesc","xexp","xgroup","xkey","xlog","xprev","xrank"]),N=/[|/&^!+:\\\-*%$=~#;@><,?_\'\"\[\(\]\)\s{}]/;function A(E){return new RegExp("^("+E.join("|")+")$")}function C(Q,P){var O=Q.sol(),R=Q.next();I=null;if(O){if(R=="/"){return(P.tokenize=J)(Q,P)}else{if(R=="\\"){if(Q.eol()||/\s/.test(Q.peek())){return Q.skipToEnd(),/^\\\s*$/.test(Q.current())?(P.tokenize=L)(Q,P):P.tokenize=C,"comment"}else{return P.tokenize=C,"builtin"}}}}if(/\s/.test(R)){return Q.peek()=="/"?(Q.skipToEnd(),"comment"):"whitespace"}if(R=='"'){return(P.tokenize=K)(Q,P)}if(R=="`"){return Q.eatWhile(/[A-Z|a-z|\d|_|:|\/|\.]/),"symbol"}if(("."==R&&/\d/.test(Q.peek()))||/\d/.test(R)){var E=null;Q.backUp(1);if(Q.match(/^\d{4}\.\d{2}(m|\.\d{2}([D|T](\d{2}(:\d{2}(:\d{2}(\.\d{1,9})?)?)?)?)?)/)||Q.match(/^\d+D(\d{2}(:\d{2}(:\d{2}(\.\d{1,9})?)?)?)/)||Q.match(/^\d{2}:\d{2}(:\d{2}(\.\d{1,9})?)?/)||Q.match(/^\d+[ptuv]{1}/)){E="temporal"}else{if(Q.match(/^0[NwW]{1}/)||Q.match(/^0x[\d|a-f|A-F]*/)||Q.match(/^[0|1]+[b]{1}/)||Q.match(/^\d+[chijn]{1}/)||Q.match(/-?\d*(\.\d*)?(e[+\-]?\d+)?(e|f)?/)){E="number"}}return(E&&(!(R=Q.peek())||N.test(R)))?E:(Q.next(),"error")}if(/[A-Z|a-z]|\./.test(R)){return Q.eatWhile(/[A-Z|a-z|\.|_|\d]/),D.test(Q.current())?"keyword":"variable"}if(/[|/&^!+:\\\-*%$=~#;@><\.,?_\']/.test(R)){return null}if(/[{}\(\[\]\)]/.test(R)){return null}return"error"}function J(O,E){return O.skipToEnd(),/\/\s*$/.test(O.current())?(E.tokenize=M)(O,E):(E.tokenize=C),"comment"}function M(P,O){var E=P.sol()&&P.peek()=="\\";P.skipToEnd();if(E&&/^\\\s*$/.test(P.current())){O.tokenize=C}return"comment"}function L(E){return E.skipToEnd(),"comment"}function K(R,P){var Q=false,O,E=false;while((O=R.next())){if(O=='"'&&!Q){E=true;break}Q=!Q&&O=="\\"}if(E){P.tokenize=C}return"string"}function G(P,O,E){P.context={prev:P.context,indent:P.indent,col:E,type:O}}function H(E){E.indent=E.context.indent;E.context=E.context.prev}return{startState:function(){return{tokenize:C,context:null,indent:0,col:0}},token:function(P,O){if(P.sol()){if(O.context&&O.context.align==null){O.context.align=false}O.indent=P.indentation()}var E=O.tokenize(P,O);if(E!="comment"&&O.context&&O.context.align==null&&O.context.type!="pattern"){O.context.align=true}if(I=="("){G(O,")",P.column())}else{if(I=="["){G(O,"]",P.column())}else{if(I=="{"){G(O,"}",P.column())}else{if(/[\]\}\)]/.test(I)){while(O.context&&O.context.type=="pattern"){H(O)}if(O.context&&I==O.context.type){H(O)}}else{if(I=="."&&O.context&&O.context.type=="pattern"){H(O)}else{if(/atom|string|variable/.test(E)&&O.context){if(/[\}\]]/.test(O.context.type)){G(O,"pattern",P.column())}else{if(O.context.type=="pattern"&&!O.context.align){O.context.align=true;O.context.col=P.column()}}}}}}}}return E},indent:function(R,E){var Q=E&&E.charAt(0);var P=R.context;if(/[\]\}]/.test(Q)){while(P&&P.type=="pattern"){P=P.prev}}var O=P&&Q==P.type;if(!P){return 0}else{if(P.type=="pattern"){return P.col}else{if(P.align){return P.col+(O?0:1)}else{return P.indent+(O?0:F)}}}}}});CodeMirror.defineMIME("text/x-q","q");