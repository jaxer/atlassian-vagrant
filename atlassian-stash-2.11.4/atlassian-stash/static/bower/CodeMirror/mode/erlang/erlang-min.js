CodeMirror.defineMIME("text/x-erlang","erlang");CodeMirror.defineMode("erlang",function(S){var A=["-type","-spec","-export_type","-opaque"];var j=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"];var o=/[\->,;]/;var K=["->",";",","];var Y=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"];var E=/[\+\-\*\/<>=\|:!]/;var V=["=","+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-","!"];var X=/[<\(\[\{]/;var U=["<<","(","[","{"];var b=/[>\)\]\}]/;var c=["}","]",")",">>"];var P=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"];var J=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"];var i=/[\w@Ø-ÞÀ-Öß-öø-ÿ]/;var N=/[0-7]{1,3}|[bdefnrstv\\"']|\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}/;function H(t,s){if(s.in_string){s.in_string=(!Z(t));return M(s,t,"string")}if(s.in_atom){s.in_atom=(!Q(t));return M(s,t,"atom")}if(t.eatSpace()){return M(s,t,"whitespace")}if(!G(s)&&t.match(/-\s*[a-zß-öø-ÿ][\wØ-ÞÀ-Öß-öø-ÿ]*/)){if(e(t.current(),A)){return M(s,t,"type")}else{return M(s,t,"attribute")}}var r=t.next();if(r=="%"){t.skipToEnd();return M(s,t,"comment")}if(r==":"){return M(s,t,"colon")}if(r=="?"){t.eatSpace();t.eatWhile(i);return M(s,t,"macro")}if(r=="#"){t.eatSpace();t.eatWhile(i);return M(s,t,"record")}if(r=="$"){if(t.next()=="\\"&&!t.match(N)){return M(s,t,"error")}return M(s,t,"number")}if(r=="."){return M(s,t,"dot")}if(r=="'"){if(!(s.in_atom=(!Q(t)))){if(t.match(/\s*\/\s*[0-9]/,false)){t.match(/\s*\/\s*[0-9]/,true);return M(s,t,"fun")}if(t.match(/\s*\(/,false)||t.match(/\s*:/,false)){return M(s,t,"function")}}return M(s,t,"atom")}if(r=='"'){s.in_string=(!Z(t));return M(s,t,"string")}if(/[A-Z_Ø-ÞÀ-Ö]/.test(r)){t.eatWhile(i);return M(s,t,"variable")}if(/[a-z_ß-öø-ÿ]/.test(r)){t.eatWhile(i);if(t.match(/\s*\/\s*[0-9]/,false)){t.match(/\s*\/\s*[0-9]/,true);return M(s,t,"fun")}var d=t.current();if(e(d,j)){return M(s,t,"keyword")}else{if(e(d,Y)){return M(s,t,"operator")}else{if(t.match(/\s*\(/,false)){if(e(d,J)&&((G(s).token!=":")||(G(s,2).token=="erlang"))){return M(s,t,"builtin")}else{if(e(d,P)){return M(s,t,"guard")}else{return M(s,t,"function")}}}else{if(e(d,Y)){return M(s,t,"operator")}else{if(n(t)==":"){if(d=="erlang"){return M(s,t,"builtin")}else{return M(s,t,"function")}}else{if(e(d,["true","false"])){return M(s,t,"boolean")}else{if(e(d,["true","false"])){return M(s,t,"boolean")}else{return M(s,t,"atom")}}}}}}}}var p=/[0-9]/;var q=/[0-9a-zA-Z]/;if(p.test(r)){t.eatWhile(p);if(t.eat("#")){if(!t.eatWhile(q)){t.backUp(1)}}else{if(t.eat(".")){if(!t.eatWhile(p)){t.backUp(1)}else{if(t.eat(/[eE]/)){if(t.eat(/[-+]/)){if(!t.eatWhile(p)){t.backUp(2)}}else{if(!t.eatWhile(p)){t.backUp(1)}}}}}}return M(s,t,"number")}if(W(t,X,U)){return M(s,t,"open_paren")}if(W(t,b,c)){return M(s,t,"close_paren")}if(f(t,o,K)){return M(s,t,"separator")}if(f(t,E,V)){return M(s,t,"operator")}return M(s,t,null)}function W(q,d,p){if(q.current().length==1&&d.test(q.current())){q.backUp(1);while(d.test(q.peek())){q.next();if(e(q.current(),p)){return true}}q.backUp(q.current().length-1)}return false}function f(q,d,p){if(q.current().length==1&&d.test(q.current())){while(d.test(q.peek())){q.next()}while(0<q.current().length){if(e(q.current(),p)){return true}else{q.backUp(1)}}q.next()}return false}function Z(d){return L(d,'"',"\\")}function Q(d){return L(d,"'","\\")}function L(r,p,d){while(!r.eol()){var q=r.next();if(q==p){return true}else{if(q==d){r.next()}}}return false}function n(p){var d=p.match(/([\n\s]+|%[^\n]*\n)*(.)/,false);return d?d.pop():""}function e(d,p){return(-1<p.indexOf(d))}function M(p,q,d){l(p,T(d,q));switch(d){case"atom":return"atom";case"attribute":return"attribute";case"boolean":return"special";case"builtin":return"builtin";case"close_paren":return null;case"colon":return null;case"comment":return"comment";case"dot":return null;case"error":return"error";case"fun":return"meta";case"function":return"tag";case"guard":return"property";case"keyword":return"keyword";case"macro":return"variable-2";case"number":return"number";case"open_paren":return null;case"operator":return"operator";case"record":return"bracket";case"separator":return null;case"string":return"string";case"type":return"def";case"variable":return"variable";default:return null}}function F(d,p,r,q){return{token:d,column:p,indent:r,type:q}}function T(d,p){return F(p.current(),p.column(),p.indentation(),d)}function R(d){return F(d,0,0,d)}function G(p,r){var d=p.tokenStack.length;var q=(r?r:1);if(d<q){return false}else{return p.tokenStack[d-q]}}function l(p,d){if(!(d.type=="comment"||d.type=="whitespace")){p.tokenStack=O(p.tokenStack,d);p.tokenStack=h(p.tokenStack)}}function O(p,d){var q=p.length-1;if(0<q&&p[q].type==="record"&&d.type==="dot"){p.pop()}else{if(0<q&&p[q].type==="group"){p.pop();p.push(d)}else{p.push(d)}}return p}function h(d){var p=d.length-1;if(d[p].type==="dot"){return[]}if(d[p].type==="fun"&&d[p-1].token==="fun"){return d.slice(0,p-1)}switch(d[d.length-1].token){case"}":return m(d,{g:["{"]});case"]":return m(d,{i:["["]});case")":return m(d,{i:["("]});case">>":return m(d,{i:["<<"]});case"end":return m(d,{i:["begin","case","fun","if","receive","try"]});case",":return m(d,{e:["begin","try","when","->",",","(","[","{","<<"]});case"->":return m(d,{r:["when"],m:["try","if","case","receive"]});case";":return m(d,{E:["case","fun","if","receive","try","when"]});case"catch":return m(d,{e:["try"]});case"of":return m(d,{e:["case"]});case"after":return m(d,{e:["receive","try"]});default:return d}}function m(p,t){for(var s in t){var d=p.length-1;var u=t[s];for(var r=d-1;-1<r;r--){if(e(p[r].token,u)){var q=p.slice(0,r);switch(s){case"m":return q.concat(p[r]).concat(p[d]);case"r":return q.concat(p[d]);case"i":return q;case"g":return q.concat(R("group"));case"E":return q.concat(p[r]);case"e":return q.concat(p[r])}}}}return(s=="E"?[]:p)}function C(v,p){var q;var s=S.indentUnit;var r=B(p);var u=G(v,1);var d=G(v,2);if(v.in_string||v.in_atom){return CodeMirror.Pass}else{if(!d){return 0}else{if(u.token=="when"){return u.column+s}else{if(r==="when"&&d.type==="function"){return d.indent+s}else{if(r==="("&&u.token==="fun"){return u.column+3}else{if(r==="catch"&&(q=I(v,["try"]))){return q.column}else{if(e(r,["end","after","of"])){q=I(v,["begin","case","fun","if","receive","try"]);return q?q.column:CodeMirror.Pass}else{if(e(r,c)){q=I(v,U);return q?q.column:CodeMirror.Pass}else{if(e(u.token,[",","|","||"])||e(r,[",","|","||"])){q=k(v);return q?q.column+q.token.length:s}else{if(u.token=="->"){if(e(d.token,["receive","case","if","try"])){return d.column+s+s}else{return d.column+s}}else{if(e(u.token,U)){return u.column+u.token.length}else{q=g(v);return D(q)?q.column+s:0}}}}}}}}}}}}function B(p){var d=p.match(/,|[a-z]+|\}|\]|\)|>>|\|+|\(/);return D(d)&&(d.index===0)?d[0]:""}function k(p){var q=p.tokenStack.slice(0,-1);var d=a(q,"type",["open_paren"]);return D(q[d])?q[d]:false}function g(p){var q=p.tokenStack;var d=a(q,"type",["open_paren","separator","keyword"]);var r=a(q,"type",["operator"]);if(D(d)&&D(r)&&d<r){return q[d+1]}else{if(D(d)){return q[d]}else{return false}}}function I(p,q){var r=p.tokenStack;var d=a(r,"token",q);return D(r[d])?r[d]:false}function a(q,r,d){for(var p=q.length-1;-1<p;p--){if(e(q[p][r],d)){return p}}return false}function D(d){return(d!==false)&&(d!=null)}return{startState:function(){return{tokenStack:[],in_string:false,in_atom:false}},token:function(p,d){return H(p,d)},indent:function(p,d){return C(p,d)},lineComment:"%"}});