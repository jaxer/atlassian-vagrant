define("layout/files",["util/events","model/path","model/revision-reference","model/page-state","widget/breadcrumbs","exports"],function(C,D,F,B,E,A){A.onReady=function(K,J,L,I){B.setFilePath(new D(K));var H=new F(J);var G=new E(L);C.on("stash.widget.breadcrumbs.urlChanged",function(M){if(this===G){C.trigger("stash.layout.files.urlChanged",this,M)}});C.on("stash.page.*.revisionRefChanged",function(M){H=M;G.update(H,B.getFilePath(),I)});C.on("stash.page.*.pathChanged",function(M){B.setFilePath(M);G.update(H,M,I)})}});