<atlassian-plugin key="com.atlassian.stash.stash-authentication" name="Atlassian Stash Authentication">

    <plugin-info>
        <description>Stash's Built-in Authenticators</description>
        <version>1.0</version>
        <vendor name="Atlassian" url="http://www.atlassian.com"/>
    </plugin-info>

    <!-- Built in authentication handler that authenticates the user against embedded Crowd -->
    <http-auth-handler key="crowdHttpAuthHandler"
                       class="com.atlassian.stash.internal.auth.EmbeddedCrowdHttpAuthenticationHandler"
                       weight="100"/>

    <http-auth-handler key="rememberMeAuthHandler"
                       class="com.atlassian.stash.internal.auth.RememberMeAuthenticationHandler"
                       weight="110"/>

    <!-- Built in authentication failure handlers for SCM requests, BASIC auth and redirect to login -->
    <http-auth-failure-handler key="bridgingAuthFailureHandler"
                               class="com.atlassian.stash.internal.auth.BridgingAuthenticationFailureHandler"
                               weight="70"/>

    <http-auth-failure-handler key="scmAuthenticationFailureHandler"
                               class="com.atlassian.stash.internal.auth.ScmAuthenticationFailureHandler"
                               weight="80"/>

    <http-auth-failure-handler key="basicAuthChallengeFailureHandler"
                               class="com.atlassian.stash.internal.auth.BasicAuthChallengeFailureHandler"
                               weight="90"/>

    <http-auth-failure-handler key="redirectingAuthFailureHandler"
                               class="com.atlassian.stash.internal.auth.RedirectingAuthenticationFailureHandler"
                               weight="100"/>


    <!-- Always runs first to ensure recently access repositories are trimmed before custom handlers -->
    <http-auth-success-handler key="recentlyAccessedRepositoriesAuthSuccessHandler"
                               class="com.atlassian.stash.internal.user.RecentlyAccessedRepositoriesAuthenticationSuccessHandler"
                               weight="0"/>

    <!--Form based authentication success handler that ensures a session is associated with the request -->
    <http-auth-success-handler key="sessionCreatingAuthSuccessHandler"
                               class="com.atlassian.stash.internal.auth.SessionCreatingAuthenticationSuccessHandler"
                               weight="50"/>

    <!-- Default authentication success handler that redirects the user to the original target or / -->
    <http-auth-success-handler key="redirectingAuthSuccessHandler"
                               class="com.atlassian.stash.internal.auth.RedirectingAuthenticationSuccessHandler"
                               weight="100"/>

</atlassian-plugin>